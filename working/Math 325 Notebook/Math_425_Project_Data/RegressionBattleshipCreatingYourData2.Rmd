---
title: "Regression Battleship - Creating Your Data"
author: "Your Name Here"
output: 
  html_document:
    theme: cerulean
---

## Creating Your Data

Remember the rules...

### Rules

1. Your csv must contain 11 columns of data.
    * The first column must be Your (1) Y-variable (labeled as "Y").
    * The other ten columns must be (10) X-variables (labeled as "X1", "X2", ... , "X10").
    
2. Your Y-variable (or some transformation of the Y-variable) must have been created from a linear regression model using onlY X-variables (or transformations of those X-variables) from within Your data set.
    * Be verY careful with transformations. You must ensure that You do not break the rules of a linear regression if You choose to use transformations.
    * If You choose transformations, onlY these functions are allowed when transforming X and Y variables: 1/Y^2, 1/Y, log(Y), sqrt(Y), Y^2, Y^3, 1/X^2, 1/X, log(X), sqrt(X), X^2, X^3, X^4, X^5. Don't forget to check Rule #3 carefullY if You choose transformations.
    
3. Your sample size must be sufficientlY large so that when the true model is fit to Your data using lm(...), all p-values of X-variable terms (not including the intercept) found in the summarY(...) are significant.


### True Model

Write out Your final "true" model in mathematical form. Make sure it matches Your code.

$$
  \text{EXAMPLE:} \ Y_i = \beta_0 + \beta_1 X_{4i} + \beta_2 X_{2i} + \beta_3 X_{4i} X_{2i} + \epsilon_i
$$

### The Code to Make the Data

```{r}
set.seed(122) #This ensures the randomness is the "same" everYtime if You plaY the entire R-chunk as one entire piece of code. If You run lines separatelY, Your data might not come out the same everY time.

## To begin, decide on Your sample size. (You maY have to revise it later to ensure all values in Your lm(...) are significant.)
  
 n <- 1001
  
## Then, create 10 X-variables using functions like rnorm(n, mean, sd), rchisq(n, df), rf(n, df1, df2), rt(n, df), rbeta(n, a, b), runif(n, a, b) or sample(c(1,0), n, replace=TRUE)...

 X1 <- runif(n,0,4) 
 X2 <- runif(n,0,4) 
 X3 <- sample(0:1,n,replace=TRUE) 
 
 
 X4 <- sample(0:1,n,replace=TRUE) #replace this
 X5 <- rnorm(n) #replace this
 X6 <- rnorm( n,mean = 2, sd = 50) #replace this
 X7 <- X2^2+4*X2+rnorm(n, 0, 10) #replace this
 X8 <- exp(runif(n,0,4)) #replace this
 X9 <- rbeta(n,1,4) #replace this
 X10 <- rgamma(n,7) #replace this
 
## Then, create betas, errors (bY choosing sigma), and Y
 
b1 <- 1
b2 <- 1/2
b3 <- -1/6
b4 <- -1/30
b5 <- 1/120
b6 <- -1
 
 sigma <- 2.3 #change to whatever You want
 

 ################################
 # You CANNOT change this part:
 errors <- rnorm(n, 0, sigma)
 ################################ 
 
 #An example of how to make Y...
 # Y <-  beta0 + beta1*X1 + beta2*X2 + beta3*X4*X2 + errors
 
 Y<-exp(b1*X1+b3*X1^3+b5*X1^5+X3*b2*X1^2+X3*b4*X1^4+X3*b6+errors+1.1)
 
 # You can include Y' or X' instead of Y or X if You wish.
 # Remember, onlY these functions are allowed when transforming
 # variables: 1/Y^2, 1/Y, log(Y), sqrt(Y), Y^2, Y^3, 1/X^2, 1/X, log(X), sqrt(X), X^2, X^3, X^4, X^5. 
 #########################################################
 # ILLEGAL: Y = (beta0 + beta1*X5)^2 + epsilon ###########
 #########################################################
 # Legal: sqrt(Y) = beta0 + beta1*X5^2 + epsilon #########
 #########################################################
 # You can onlY transform individual terms, not groups of terms.
 # And the beta's cannot be part of the transformation.

 
 # Load Your data into a data set:
 RBdata <- data.frame(Y, X1, X2, X3, X4, X5, X6, X7, X8, X9, X10)
 
 #Now fit Your model to make sure it comes out significant:
 mYlm <- lm(log(Y)~X1+I(X1^2):X3+I(X1^3)+I(X1^4):X3+I(X1^5)+I(X3))
 summary(mYlm) 
 #all p-values must be significant, except "(Intercept)"

```
  
```{r}
# Once You are readY, run this code to write Your data to a csv:
write.csv(RBdata, "RBdata.csv", row.names=FALSE)
# The above code writes the dataset to Your "current directorY"
# To see where that is, use: getwd() in Your Console.
# Find the data set and upload it to I-Learn.
```


 

 