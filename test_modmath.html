<!DOCTYPE html>
<html>
<title>Modular Visualizer - cubicinfinity.github.io</title>
<meta charset = "UTF-8">

<style>
@import url('https://fonts.googleapis.com/css?family=Lacquer|Hi+Melody|Inconsolata&display=swap');

h4 {
  font-size: 1em;
  display: flex;
  justify-content: center;
  margin: 1em;
}

html {
  font-family: "Inconsolata";
  display: flex;
  justify-content: center;
}

.button {
  padding: 0.5em;
  margin: 0.5em auto;
  width: 15em;
  background: #d9d9d9;
  color: #444;
  text-align: center;
  font-size: 1em;
  cursor: pointer;
  transition: 0.3s;
  border-radius: 0;
  display: flex;
  justify-content: center;
}

.fields{
  font-size: 1em;
  display: flex;
  justify-content: center;
}

.section {
  margin: 1em;
  display: block;
  display: flex;
  flex-direction: column;
  justify-content: space-around;
}

.entry {
  display: flex;
  justify-content: auto;
  margin: 0.25em 0;
}

.bar {
  background-color: #ada;
  display: block;
  text-align: center;
  padding: 0.1em;
  min-width: 100%;
}

.plot {
  margin-bottom: 2em;
}

.center {
  display: flex;
  justify-content: center;
}

</style>

<script src="modulus.js"></script>
<noscript><b> Enable JavaScript to use this page. </b></noscript>
<body>

<p class="center">
  This applet calulates floating point division in any base and displays the 
  modulus pattern of remainders. </br>
  "R>" indicates the start of a repeating sequence of digits.
</p>

<div class="fields">
  <div class="section" id="valueSettings">
    <h4> Values </h4>
    <div class="entry">
      <label> Numerator <input type="number" id="numerator" /></label>
    </div>
    <div class="entry">
      <label> Denominator <input type="number" id="denominator" /></label>
    </div>
    <div class="entry">
      <label> Base of expression <input type="number" id="base" value=10 /></label>
    </div>
    <div class="entry">
      <label>
        <input type="checkbox" id="limitPrecision" 
           onclick="checkField('limitPrecision', 'precision');" checked /> 
        Max precision 
        <input type="number" id="precision" value=50 />
      </label>
    </div>
  	<div class="entry">
  	  <label><input type="checkbox" id="modBase10" checked /> Show remainders in base 10 </label>
      </div>
  	<div class="entry">
  	  <label><input type="checkbox" id="alignValues" unchecked /> Align values </label>
      </div>
  	<div class="entry">
  	  <label>
        <input type="checkbox" id="includePlot" 
    	  	onclick="showHideElement('includePlot', 'plotSettings', true, showType = 'flex');
    	  	         showHideElement('includePlot', 'plot');" checked /> 
        Generate graph 
      </label>
    </div>
    <div class="button" onclick="compute();"> Compute </div>
  </div>

  <div class="section" id="plotSettings">
	<h4> Appearance </h4>
	<div class="entry">
	  <label> 
	  	<input type="checkbox" id="showDigits" 
	  	    onclick="checkField('showDigits', 'digitsColor');" checked />
	  	Digit color
	  	<input type="text" id="digitsColor" value="white" />
    </label>
	</div>
	<div class="entry">
	  <label> 
	  	<input type="checkbox" id="enableBackground" 
	  	    onclick="checkField('enableBackground', 'backgroundColor');" checked />
	  	Background color
	  	<input type="text" id="backgroundColor" value="black" />
    </label>
	</div>
	<div class="entry">
	  <label>
	  	<input type="checkbox" id="enablePoints" 
	  	  onclick="checkField('enablePoints', 'pointColor');" checked /> 
	  	Point color 
	  	<input type="text" id="pointColor" value="#800800" />
	  </label>
	</div>
	<div class="entry">
	  <label>
  	  <input 
        type="checkbox" 
        id="enableLine1" 
  	  	onclick="checkField('enableLine1', 'lineColor1');
                 checkField('enableLine1', 'enableGradient1');
                 checkField(['enableLine1', 'enableGradient1'], 'gradientColor1');"
        checked />
	  	Initial line color from
      <input type="text" id="lineColor1" value="#1100ee88" />
    </label>
	</div>
  <div class="entry">
    <label>
      <input type="checkbox" id="enableGradient1" 
        onclick="checkField('enableGradient1', 'gradientColor1');" unchecked /> 
      Initial line color to
      <input type="text" id="gradientColor1" value="#bb00dd88" disabled />
    </label>
  </div>
	<div class="entry">
    <label> 
      <input type="checkbox" id="enableLine2" checked disabled />
  	  Repeating line color from 
      <input type="text" id="lineColor2" value="#cc00ff" />
    </label>
	</div>
  <div class="entry">
    <label>
      <input type="checkbox" id="enableGradient2" 
        onclick="checkField('enableGradient2', 'gradientColor2');" unchecked /> 
      Repeating line color to
      <input type="text" id="gradientColor2" value="#00ffff" disabled />
    </label>
  </div>
	<div class="entry">
	  <label> Resolution <input type="number" id="resolution" value=600 /></label>
	</div>
    <div class="button" onclick="draw();"> Update </div>
  </div>
</div>

<p id="computeMessage" class="center"></p>

<div id="resultBars" style="display:block">
  <div>
    <h4> Quotient </h4>
    <p id="quotientBar" class="bar"> Not computed </p>
  </div>
  <div>
    <h4> Remainders </h4>
    <p id="modulationBar" class="bar"> Not computed </p>
  </div>
</div>

<div id="resultAligned" style="display:none">
  
</div>

<div>
  <h5 id="debug">  </h5>
  <p id="debugOutput">  </p>
</div>

<div class="center">
  <canvas class="plot" id="plot" width="600" height="600">
    <script> 
      // I don't know if this message works, if you use IE 8, please let me know.
      document.getElementById("plot").innerHTML = 
        "Update to Internet Explorer 9 lol";
    </script>
  </canvas>
</div>

</body>
</html>